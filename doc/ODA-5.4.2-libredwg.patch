--- ODA-5.4.1.md	2023-11-20 22:47:44.014320212 +0100
+++ ODA-5.4.2-libredwg.md	2023-11-20 22:47:01.015254715 +0100
@@ -1,8 +1,8 @@
-# Open Design Specification for .dwg files
+# Open Design Specification for .dwg files, fixed by LibreDWG
 
-## Version 5.4.1
+## Version 5.4.2
 
 ## Open Design Alliance
 
 ## <http://www.opendesign.com>
 
@@ -20,11 +20,11 @@
 
 Printed in USA.
 
 * DWG is the native and proprietary file format for AutoCAD® and a trademark of Autodesk, Inc. The Open Design Alliance is not associated with Autodesk.
 
-# Open Design Specification for .DWG files
+# Open Design Specification for .DWG files (fixed)
 
 # Table of Contents
 
 1 Introduction .................................................................................................. 6
 
@@ -72,12 +72,10 @@
 
 23 Data section AcDb:Handles (OBJECT MAP) ..................................... 251
 
 24 Section AcDb:AcDsPrototype_1b (DataStorage) ................................. 252
 
-25 UNKNOWN SECTION ...................................................................... 263
-
 26 SECOND FILE HEADER (R13-R15) ................................................ 264
 
 27 Data section: AcDb:AuxHeader (Auxiliary file header) ....................... 267
 
 28 Extended Entity Data (Extended Object Data) ................................ 269
@@ -94,11 +92,11 @@
 
 # 2 BIT CODES AND DATA DEFINITIONS
 
 NOTE: Unless otherwise stated, all data in this manual is in little-endian order, with the least significant byte first.
 
-Much of the data in the DWG file format versions 13/14/2000/2004/2007/2010 must be read at the bit level. Various parts of the drawing use data in compressed forms, which are explained below. Here are the abbreviations used in this document for the various compressed forms:
+Much of the data in the DWG file format versions 13/14/2000/2004/2007/2010/2013/2018 must be read at the bit level. Various parts of the drawing use data in compressed forms, which are explained below. Here are the abbreviations used in this document for the various compressed forms:
 
 ----
 
       B : bit (1 or 0)
      BB : special 2 bit code (entmode in entities, for instance)
@@ -623,12 +621,12 @@
     PADDING (R13C3 AND LATER, 200 bytes, minutes the template section above if present)
     IMAGE DATA (PRE-R13C3)
     OBJECT DATA
       All entities, table entries, dictionary entries, etc. go in this section.
     OBJECT MAP
-    OBJECT FREE SPACE (optional)
     TEMPLATE (R14-R15, optional)
+    OBJECT FREE SPACE (optional)
     SECOND HEADER
     IMAGE DATA (R13C3 AND LATER)
 
 ## 3.2 FILE HEADER
 
@@ -636,13 +634,29 @@
 
 The first 6 bytes are:
 
 | Bytes (ascii encoded) | Version |
 |:----------------------|:--------|
+| MC0.0                 | MicroCAD R1.1 |
+| AC1.2                 | R1.2    |
+| AC1.3                 | R1.3    |
+| AC1.40                | R1.4    |
+| AC1.50                | R2.0    |
+| AC2.10                | R2.10   |
+| AC2.21                | R2.21   |
+| AC2.22                | R2.22   |
+| AC1001                | R2.4    |
+| AC1002                | R2.5    |
+| AC1003                | R2.6    |
+| AC1004                | R9      |
+| AC1006                | R10     |
+| AC1009                | R11     |
 | AC1012                | R13     |
+| AC1013                | R13C3   |
 | AC1014                | R14     |
 | AC1015                | R2000   |
+| AC1016                | R2000i  |
 | AC1018                | R2004   |
 | AC1021                | R2007   |
 | AC1024                | R2010   |
 | AC1027                | R2013   |
 | AC1032                | R2018   |
@@ -653,20 +667,68 @@
 
 At 0x0D is a seeker (4 byte long absolute address) for the beginning sentinel of the image data.
 
 ### 3.2.3 OBJECT FREE SPACE
 
-**TODO.**
+See chapter 21.
 
 ### 3.2.4 TEMPLATE
 
 This section is optional, see chapter 22.
 
 ### 3.2.5 DWGCODEPAGE:
 
 Bytes at 0x13 and 0x14 are a raw short indicating the value of the code page for this drawing file.
 
+| Codepage | Name                          |
+|---------:|-------------------------------|
+|  0       | UTF8 (Unused)
+|  1       | US_ASCII
+|  2       | ISO-8859-1
+|  3       | ISO-8859-2
+|  4       | ISO-8859-3
+|  5       | ISO-8859-4
+|  6       | ISO-8859-5
+|  7       | ISO-8859-6
+|  8       | ISO-8859-7
+|  9       | ISO-8859-8
+|  10      | ISO-8859-9
+|  11      | CP437 (DOS English)
+|  12      | CP850 (DOS Latin-1)
+|  13      | CP852 (DOS Central European)
+|  14      | CP855 (DOS Cyrillic)
+|  15      | CP857 (DOS Turkish)
+|  16      | CP860 (DOS Portoguese)
+|  17      | CP861 (DOS Icelandic)
+|  18      | CP863 (DOS Hebrew)
+|  19      | CP864 (DOS Arabic  IBM)
+|  20      | CP865 (DOS Nordic)
+|  21      | CP869 (DOS Greek)
+|  22      | CP932 (DOS Japanese, shiftjis)
+|  23      | MACINTOSH
+|  24      | BIG5
+|  25      | CP949     (Korean, Wansung + Johab)
+|  26      | JOHAB
+|  27      | CP866     (Russian)
+|  28      | ANSI-1250 (Windows Central + Eastern European)
+|  29      | ANSI-1251 (Windows Cyrillic)
+|  30      | ANSI-1252 (Windows Western European)
+|  31      | GB2312    (Windows EUC-CN Chinese)
+|  32      | ANSI-1253  (Windows Greek)
+|  33      | ANSI-1254  (Windows Turkish)
+|  34      | ANSI-1255  (Windows Hebrew)
+|  35      | ANSI-1256  (Windows Arabic)
+|  36      | ANSI-1257  (Windows Baltic)
+|  37      | ANSI-874   (Windows Thai)
+|  38      | ANSI-932   (Windows Japanese, extended shiftjis, windows-31j)
+|  39      | ANSI-936   (Windows Simplified Chinese)
+|  40      | ANSI-949   (Windows Korean Wansung)
+|  41      | ANSI-950   (Windows Trad Chinese)
+|  42      | ANSI-1361  (Windows Korean Wansung)
+|  43      | UTF16 (Default since R2007)
+|  44      | ANSI-1258  (Windows Vietnamese)
+
 ### 3.2.6 SECTION-LOCATOR RECORDS:
 
 At 0x15 is a long that tells how many sets of recno/seeker/length records follow. Each record has the following format:
 
     Record number (raw byte) | Seeker (raw long) | Size (raw long)
@@ -676,16 +738,13 @@
 ----
 
     0 : Header variables (covers beginning and ending sentinels).
     1 : Class section.
     2 : Object map.
-    3 : (C3 and later.) A special table (no sentinels). See unknown section (R13 C3 and
-        later). The presence of the 4th record (3) indicates that the C3 file format
-        applies. Just look at the long at 21; if it's 4 or greater, it's the C3-and-later
-        format.
-    4 : In R13-R15, points to a location where there may be data stored. Currently we
-        have seen only the MEASUREMENT variable stored here. See chapter 22.
+    3 : (C3 and later.) OBJECT FREE SPACE (without sentinels),
+        followed by the SECOND HEADER (with sentinels).
+    4 : In R13-R15, TEMPLATE with the MEASUREMENT variable. See chapter 22.
         This section is optional.
 
 Remarks: We have seen files with up to 6 sets in this section; the meaning of the sixth one is unknown. The Open Design Toolkit emits files with the first 5 sets only.
 
     RS : CRC for BOF to this point. Use 0 for the initial value, and depending on the
@@ -2168,11 +2227,11 @@
     -----------------------
 
     R2007 Only:
         RL : Size in bits
     R2013+:
-       BLL : Variabele REQUIREDVERSIONS, default value 0, read only.
+       BLL : Variable REQUIREDVERSIONS, default value 0, read only.
     Common:
         BD : Unknown, default value 412148564080.0
         BD : Unknown, default value 1.0
         BD : Unknown, default value 1.0
         BD : Unknown, default value 1.0
@@ -2774,11 +2833,11 @@
 
 # 11 PADDING (R13C3 AND LATER)
 
 0x200 bytes of padding. Can be ignored. When writing, the Open Design Toolkit writes all 0s.
 
-Occasionally AutoCAD will use the first 4 bytes of this area to store the value of the “measurement” variable. This padding was evidently required to allow pre-R13C3 versions of AutoCAD to read files produced by R13C3 and later.
+Occasionally AutoCAD will use the first 4 bytes of this area to store the value of the “measurement” variable., i.e the TEMPLATE section. This padding was evidently required to allow pre-R13C3 versions of AutoCAD to read files produced by R13C3 and later.
 
 # 12 Data section: “”
 
 The empty data section was introduced in R18. This section contains no data.
 
@@ -3060,11 +3119,11 @@
 
 | Version | Field type | DXF group | Description
 |---------|-------|-------|------------
 |         | MS    |       | Size in bytes of object, not including the CRC
 | R2010+  | MC    |       | Size in bits of the handle stream (unsigned, 0x40 is not interpreted as sign). This includes the padding bits at the end of the handle stream (the padding bits make sure the object stream ends on a byte boundary).
-| Commmon
+| Common
 |         | OT     |      | Object type
 | R2000-R2007
 |         | RL     |      | Size of object data in bits (number of bits before the handles), or the “endbit” of the pre-handles section.
 | Common:
 |         | H     | 5    | Object’s handle
@@ -3097,11 +3156,11 @@
 Drawing entities, which are of course objects, have the same format as objects, with some additional standard items:
 
        MS : Size of object, not including the CRC
     R2010+:
        MC : Size in bits of the handle stream (unsigned, 0x40 is not interpreted as sign).
-    Commmon:
+    Common:
        OT : Object type
     R2000+ Only:
        RL : Size of object data in bits
     Common:
         H : Object’s handle
@@ -3297,11 +3356,14 @@
 ### 20.4.1 Common Entity Data
 
 The following data appears at the beginning of each entity in the file, and will be referred to as Common Entity Data in the subsequent entity descriptions.
 
         Length               MS   --  Entity length (not counting itself or CRC).
-        Type                 BS   0   1 (internal DWG type code).
+    R2010+:
+        Handle Stream Size   MC   --  not counted in the Length
+    Common:
+        Type                 OT   0   internal DWG type code. BS or OT since R2010.
     R2000+ Only:
         Obj size             RL       size of object in bits, not including
                                       end handles
     Common:
         Handle               H    5   code 0, length followed by the handle bytes.
@@ -5162,21 +5224,24 @@
 ### 20.4.44 DICTIONARY (42)
 
 Basically a list of pairs of string/objhandle that constitute the dictionary entries.
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                  S   0  42 (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  42 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
 R13-R14 Only:
     Obj size             RL      size of object in bits, not including end handles
 Common:
-    Numreactors           S      number of reactors in this object
+    Numreactors          BL      number of reactors in this object
 R2004+:
     XDic Missing Flag     B      If 1, no XDictionary handle is stored for this
                                  object, otherwise XDictionary handle is stored as in
                                  R2000 and earlier.
 Common:
@@ -5256,46 +5321,46 @@
 R2000+:
     Linespacing Style    BS  73
     Linespacing Factor   BD  44
     Unknown bit           B
 R2004+:
-    Background flags     BL  90  0 = no background, 1 = background fill, 2 =
+    Background fill flag BL  90  0 = no background, 1 = background fill, 2 =
                                  background fill with drawing fill color, 0x10 = text
                                  frame (R2018+)
 
-IF background flags has bit 0x01 set, or in case of R2018 bit 0x10:
-    Background scale factor
+IF Background fill flag has bit 0x01 set, or in case of R2018 bit 0x10:
+    Background fill scale factor
                          BL  45  default = 1.5
-    Background color    CMC  63
-    Background transparency
+    Background fill color CMC 63
+    Background fill transparency
                          BL 441
-END IF background flags 0x01/0x10
+END IF Background fill flags 0x01/0x10
 R2018+
     Is NOT annotative     B
 IF MTEXT is not annotative
     Version              BS      Default 0
     Default flag          B      Default true
 BEGIN REDUNDANT FIELDS (see above for descriptions)
     Registered application H     Hard pointer
-    Attachment point     BL
-    X-axis dir          3BD  10
-    Insertion point     3BD  11
+    Ignore Attachment    BL
+    X-axis dir          3BD  11
+    Insertion point     3BD  10
     Rect width           BD  40
     Rect height          BD  41
-    Extents width        BD  42
     Extents height       BD  43
+    Extents width        BD  42
 END REDUNDANT FIELDS
     Column type          BS  71  0 = No columns, 1 = static columns, 2 = dynamic
                                  columns
 IF Has Columns data (column type is not 0)
     Column height count  BL  72
-    Columnn width        BD  44
+    Column width         BD  44
     Gutter               BD  45
     Auto height?          B  73
     Flow reversed?        B  74
 IF not auto height and column type is dynamic columns
-REPEAT Column heights
+REPEAT Column height count
     Column height        BD  46
 END REPEAT END
 IF (has column heights)
 END IF (has columns data)
 END IF (not annotative)
@@ -5324,25 +5389,25 @@
 ### 20.4.47 LEADER (45)
 
 ```
     Common Entity Data
     Unknown bit           B  --  Always seems to be 0.
-    Annot type           BS  --  Annotation type (NOT bit-coded):
+    Annot type           BS  73  Annotation type (NOT bit-coded):
                                  Value 0 : MTEXT
                                  Value 1 : TOLERANCE
                                  Value 2 : INSERT
                                  Value 3 : None
-    path type            BS  --
+    path type            BS  72
     numpts               BL  --  number of points
     point               3BD  10  As many as counter above specifies.
     Origin              3BD  --  The leader plane origin (by default it’s the first
                                  point).
     Extrusion           3BD 210
     x direction         3BD 211
     offsettoblockinspt  3BD 212  Used when the BLOCK option is used. Seems to be an
                                  unused feature.
-R14+:
+R14-R2007:
     Endptproj           3BD  --  A non-planar leader gives a point that projects the
                                  endpoint back to the annotation. It's the offset
                                  from the endpoint of the leader to the annotation,
                                  taking into account the extrusion direction.
 R13-R14 Only:
@@ -5355,27 +5420,28 @@
                                  taller, probably by some DIMvar amount.)
     Box width            BD  41  MTEXT extents width. (A text box is slightly wider,
                                  probably by some DIMvar amount.)
     Hooklineonxdir        B      hook line is on x direction if 1
     Arrowheadon           B      arrowhead on indicator
-R13-R14 Only:
     Arrowheadtype        BS      arrowhead type
+R13-R14 Only:
     Dimasz               BD      DIMASZ at the time of creation, multiplied by
                                  DIMSCALE
     Unknown               B
     Unknown               B
     Unknown              BS
     Byblockcolor         BS
     Unknown               B
     Unknown               B
 R2000+:
-    Unknown              BS
     Unknown               B
     Unknown               B
 Common:
     Common Entity Handle Data
-                          H 340  Associated annotation activated in R14. (hard pointer)
+R13+:
+                          H 340  Associated annotation activated in R14. (soft owner
+Common:
                           H   2  DIMSTYLE (hard pointer)
     CRC                   X  --
 ```
 
 **_20.4.47.1 Example:_**
@@ -5624,20 +5690,23 @@
 
 ### 20.4.51 BLOCK CONTROL (48)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  48 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  48 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
 R13-R14 Only:
     Obj size             RL      size of object in bits, not including end handles
 Common:
-    Numreactors           L      Number of persistent reactors attached to this obj
+    Numreactors          BL      Number of persistent reactors attached to this obj
 R2004+:
     XDic Missing Flag     B      If 1, no XDictionary handle is stored for this
                                  object, otherwise XDictionary handle is stored as in
                                  R2000 and earlier.
 Common:
@@ -5664,20 +5733,23 @@
 
 ### 20.4.52 BLOCK HEADER (49)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  49 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC   --  not counted in the Length
+Common:
+    Type                 OT   0  49 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
 R13-R14 Only:
     Obj size             RL      size of object in bits, not including end handles
 Common:
-    Numreactors           L      Number of persistent reactors attached to this obj
+    Numreactors          BL      Number of persistent reactors attached to this obj
 R2004+:
     XDic Missing Flag     B      If 1, no XDictionary handle is stored for this
                                  object, otherwise XDictionary handle is stored as in
                                  R2000 and earlier.
 Common:
@@ -5749,20 +5821,23 @@
 
 ### 20.4.53 LAYER CONTROL (50) (UNDOCUMENTED)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  50 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  50 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
 R13-R14 Only:
     Obj size             RL      size of object in bits, not including end handles
 Common:
-    Numreactors           L      Number of persistent reactors attached to this obj
+    Numreactors          BL      Number of persistent reactors attached to this obj
 R2004+:
     XDic Missing Flag     B      If 1, no XDictionary handle is stored for this
                                  object, otherwise XDictionary handle is stored as in
                                  R2000 and earlier.
 Common:
@@ -5785,11 +5860,14 @@
 
 ### 20.4.54 LAYER (51)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  51 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  51 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  code 0, length followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -5852,20 +5930,23 @@
 
 ### 20.4.55 SHAPEFILE CONTROL (52) (UNDOCUMENTED)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  52 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  52 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
 R13-R14 Only:
     Obj size             RL      size of object in bits, not including end handles
 Common:
-    Numreactors           L      Number of persistent reactors attached to this obj
+    Numreactors          BL      Number of persistent reactors attached to this obj
 R2004+:
     XDic Missing Flag     B      If 1, no XDictionary handle is stored for this
                                  object, otherwise XDictionary handle is stored as in
                                  R2000 and earlier.
 Common:
@@ -5902,11 +5983,14 @@
 |                         | Character set (bitmask) = 0x0000ff00
 | 1002 (Bracket)          | ‘}’ (optional) |
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  53 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  53 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  code 0, length followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -5957,20 +6041,23 @@
 
 ### 20.4.57 LINETYPE CONTROL (56) (UNDOCUMENTED)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  56 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  56 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
 R13-R14 Only:
     Obj size             RL      size of object in bits, not including end handles
 Common:
-    Numreactors           L      Number of persistent reactors attached to this obj
+    Numreactors          BL      Number of persistent reactors attached to this obj
 R2004+:
     XDic Missing Flag     B      If 1, no XDictionary handle is stored for this
                                  object, otherwise XDictionary handle is stored as in
                                  R2000 and earlier.
 Common:
@@ -5997,11 +6084,14 @@
 
 ### 20.4.58 LTYPE (57)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  57 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  57 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  code 0, length followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -6068,20 +6158,23 @@
 
 ### 20.4.59 VIEW CONTROL (60) (UNDOCUMENTED)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  60 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  60 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
 R13-R14 Only:
     Obj size             RL      size of object in bits, not including end handles
 Common:
-    Numreactors           L      Number of persistent reactors attached to this obj
+    Numreactors          BL      Number of persistent reactors attached to this obj
 R2004+:
     XDic Missing Flag     B      If 1, no XDictionary handle is stored for this
                                  object, otherwise XDictionary handle is stored as in
                                  R2000 and earlier.
 Common:
@@ -6104,11 +6197,14 @@
 
 ### 20.4.60 VIEW (61)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  61 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  61 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  code 0, length followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -6202,20 +6298,23 @@
 
 ### 20.4.61 UCS CONTROL (62) (UNDOCUMENTED)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  62 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  62 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
 R13-R14 Only:
     Obj size             RL      size of object in bits, not including end handles
 Common:
-    Numreactors           L      Number of persistent reactors attached to this obj
+    Numreactors          BL      Number of persistent reactors attached to this obj
 R2004+:
     XDic Missing Flag     B      If 1, no XDictionary handle is stored for this
                                  object, otherwise XDictionary handle is stored as in
                                  R2000 and earlier.
 Common:
@@ -6238,11 +6337,14 @@
 
 ### 20.4.62 UCS (63)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  63 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  63 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  code 0, length followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -6300,11 +6402,14 @@
 
 ### 20.4.63 TABLE (VPORT) (64) (UNDOCUMENTED)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  64 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  64 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  code 0, length followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -6338,11 +6443,14 @@
 
 ### 20.4.64 VPORT (65)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  65 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  65 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -6466,11 +6574,14 @@
 
 ### 20.4.65 TABLE (APPID) (66) (UNDOCUMENTED)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  66 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  66 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
@@ -6502,11 +6613,14 @@
 
 ### 20.4.66 APPID (67)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  67 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  67 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -6549,11 +6663,14 @@
 
 ### 20.4.67 DIMSTYLE CONTROL (68) (UNDOCUMENTED)
 
 ```
     Length               MS  --  Object length (not counting itself or CRC).
-    Type                 BS 0&2  68 (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  68 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
@@ -6584,11 +6701,11 @@
 ```
 
 ### 20.4.68 DIMSTYLE (69)
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
+    Length               MS  --  Object length (not counting itself or CRC).
     Type                 BS   0  69 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
@@ -6785,21 +6902,24 @@
 ```
 
 ### 20.4.69 VIEWPORT ENTITY CONTROL (70) (UNDOCUMENTED)
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS 0&2  70 (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  70 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Owner handle (soft pointer) of root object (0).
     EED                   X  -3  See EED section.
 R13-R14 Only:
     Obj size             RL      size of object in bits, not including end handles
 Common:
-    Numreactors           B   L  Number of persistent reactors attached to this obj
+    Numreactors          BL      Number of persistent reactors attached to this obj
 R2004+:
     XDic Missing Flag     B      If 1, no XDictionary handle is stored for this
                                  object, otherwise XDictionary handle is stored as in
                                  R2000 and earlier.
 Common:
@@ -6822,12 +6942,15 @@
 ```
 
 ### 20.4.70 VIEWPORT ENTITY HEADER (71)
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS 0&2  71 (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  71 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -6882,12 +7005,15 @@
 |         |  H    |  340  | Handle to scale (AcDbScale) object (hard pointer). See paragraph 20.4.92. |
 
 ### 20.4.72 GROUP (72): Group of ACAD entities
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  72 (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  72 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -6924,12 +7050,15 @@
 ```
 
 ### 20.4.73 MLINESTYLE (73):
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  73 (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  73 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -6998,12 +7127,15 @@
 NOTE: OBJECTS LISTED AFTER THIS POINT DO NOT HAVE FIXED TYPES. THEIR TYPES ARE DETERMINED BY FINDING THE CLASS ENTRY WHOSE POSITION IN THE CLASS LIST + 500 EQUALS THE TYPE OF THIS OBJECT
 
 ### 20.4.74 DICTIONARYVAR (varies)
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  72 (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  72 (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -7264,11 +7396,11 @@
 |        |     |     | Other error = 64
 |        | BL  |  96 | Evaluation error code
 |        | TV  | 300 | Evaluation error message
 |        | ... | ... | The field value, see paragraph 20.4.99.
 |        | TV  |301,9| Value string (DXF: written in 255 character chunks)
-|        | TV  |  98 | Value string length
+|        | BL  |  98 | Value string length
 |        | BL  |  93 | Number of child fields
 |        |     |     | Begin repeat child fields
 |        | TV  |   6 | Child field key
 |        | ... | ... | The field value, see paragraph 20.4.99.
 |        |     |     | End repeat child fields
@@ -7397,12 +7529,15 @@
 ### 20.4.79 IDBUFFER (varies)
 
 (holds list of references to an xref)
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                  S   0  (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -7517,12 +7652,15 @@
 
 ### 20.4.81 IMAGEDEF (varies)
 
 ```
 (used in conjunction with IMAGE entities)
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                  S   0  (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -7567,12 +7705,15 @@
 
 ### 20.4.82 IMAGEDEFREACTOR (varies)
 
 ```
 (used in conjunction with IMAGE entities)
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                  S   0  (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -7603,12 +7744,15 @@
 ```
 
 ### 20.4.83 LAYER_INDEX
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -7658,11 +7802,14 @@
 
 ### 20.4.84 LAYOUT (varies)
 
 ```
     Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  (internal DWG type code).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -8041,12 +8188,15 @@
 |       | B     | 290 | Default flag (default value is false).
 
 ### 20.4.90 PROXY (varies):
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  typecode (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  typecode (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -8081,12 +8231,15 @@
 
 ### 20.4.91 RASTERVARIABLES (varies)
 
 ```
 (used in conjunction with IMAGE entities)
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  typecode (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  typecode (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -8133,12 +8286,15 @@
 |       | B     | 290 | Has unit scale          |
 
 ### 20.4.93 SORTENTSTABLE (varies)
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  typecode (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  typecode (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -8191,12 +8347,15 @@
 
 ### 20.4.94 SPATIAL_FILTER (varies)
 
 ```
 (used to clip external references)
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  typecode (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  typecode (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -8255,12 +8414,15 @@
 ```
 
 ### 20.4.95 SPATIAL_INDEX (varies):
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  typecode (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  typecode (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -9141,12 +9303,15 @@
 |       |       |     | End repeat rows                |
 
 ### 20.4.104 XRECORD (varies):
 
 ```
-    Length               MS  --  Entity length (not counting itself or CRC).
-    Type                 BS   0  typecode (internal DWG type code).
+    Length               MS  --  Object length (not counting itself or CRC).
+R2010+:
+    Handle Stream Size   MC  --  not counted in the Length
+Common:
+    Type                 OT   0  typecode (internal DWG type code).
 R2000+:
     Obj size             RL      size of object in bits, not including end handles
 Common:
     Handle                H   5  Length (char) followed by the handle bytes.
     EED                   X  -3  See EED section.
@@ -9206,30 +9371,42 @@
 00B28 45 76                   crc
 ```
 
 # 21 Data section AcDb:ObjFreeSpace
 
-The meaning of this section is not completely known. The ODA knows how to write a valid section, but
-the meaning is not known of every field.
+From R13c3 to R15 this section is the third section, which is immediately followed by the SECOND FILE HEADER (R13-R15). See chapter 26.
 
-## 21.1 Until R18
+## 21.1 Until R2007
 
 | Type   | Length | Description |
-|--------|--------|-------------|
+|----------------|--------|-------------|
 | Int32  | 4      | 0
 | UInt32 | 4      | Approximate number of objects in the drawing (number of handles).
 | Julian datetime| 8 | If version > R14 then system variable TDUPDATE otherwise TDUUPDATE.
 | UInt32 | 4      | Offset of the objects section in the stream.
-| UInt8  | 1      | Number of 64-bit values that follow (ODA writes 4).
-| UInt32 | 4      | ODA writes 0x00000032.
-| UInt32 | 4      | ODA writes 0x00000000.
-| UInt32 | 4      | ODA writes 0x00000064.
-| UInt32 | 4      | ODA writes 0x00000000.
-| UInt32 | 4      | ODA writes 0x00000200.
-| UInt32 | 4      | ODA writes 0x00000000.
-| UInt32 | 4      | ODA writes 0xffffffff.
-| UInt32 | 4      | ODA writes 0x00000000.
+| UInt8          | 1      | Number of 64-bit values that follow (Always 4).
+| UInt64         | 8      | max32, 0x00000032.                                               |
+| UInt64         | 8      | max64, 0x00000064.                                               |
+| UInt64         | 8      | maxtbl, 0x00000200.                                              |
+| UInt64         | 8      | maxrl, 0xffffffff.                                               |
+
+## 21.2 Since R2010
+
+| Type           | Length | Description                                                      |
+|----------------|--------|------------------------------------------------------------------|
+| Int64          | 8      | 0                                                                |
+| UInt64         | 8      | Approximate number of objects in the drawing (number of handles).|
+| Julian datetime| 8      | If version > R14 then system variable TDUPDATE otherwise TDUUPDATE.|
+| UInt8          | 1      | Number of 64-bit (resp. 128-bit) values that follow (Always 4).  |
+| UInt64         | 8      | max32, 0x00000032.                                               |
+| UInt64         | 8      | max32 hi, 0x00000000.                                            |
+| UInt64         | 8      | max64, 0x00000064.                                               |
+| UInt64         | 8      | max64 hi, 0x00000000.                                            |
+| UInt64         | 8      | maxtbl, 0x00000200.                                              |
+| UInt64         | 8      | maxtbl hi, 0x00000000.                                           |
+| UInt64         | 8      | maxrl, 0xffffffff.                                               |
+| UInt64         | 8      | maxrl hi, 0x00000000.                                            |
 
 # 22 Data section: AcDb:Template
 
 This section is optional in releases 13-15. The section is mandatory in the releases 18 and newer. The template section only contains the MEASUREMENT system variable.
 
@@ -9716,23 +9893,10 @@
 }
 handleToDataRecord {
 }
 ```
 
-# 25 UNKNOWN SECTION
-
-This section is largely unknown. The total size of this section is 53. We simply patch in "known to be valid" data. We first write a 0L, then the number of entries in the objmap +3, as a long. Then 45 bytes of "known to be valid data". Then we poke in the start address for objects at offset 16.
-
-The 45 bytes of known to be valid data are:
-
-    0xA7,0x62,0x25,0x00,0xF6,0xAF,0x25,0x02,
-    0x3B,0x04,0x00,0x00,0x04,0x32,0x00,0x00,
-    0x00,0x00,0x00,0x00,0x00,0x64,0x00,0x00,
-    0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,
-    0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,
-    0xFF,0x00,0x00,0x00,0x00
-
 # 26 SECOND FILE HEADER (R13-R15)
 
 ## 26.1 Beginning sentinel
 
     {0xD4,0x7B,0x21,0xCE,0x28,0x93,0x9F,0xBF,0x53,0x24,0x40,0x09,0x12,0x3C,0xAA,0x01 };
@@ -9882,11 +10046,11 @@
      RL : 0
      RL : 0
      RL : 0
      RL : 0
 
-R2018+
+R2018+:
 
      RS : 0
      RS : 0
      RS : 0
 
